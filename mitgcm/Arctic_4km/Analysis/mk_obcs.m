clear all
close all

% 4km resolution values
Nx = 1680;
Ny = 1536;
nt_new = 342; % time lenght for the original dataset
dzc = [10.00, 10.00, 10.00, 10.00, 10.00, 10.00, 10.00, 10.01, ... 
 10.03, 10.11, 10.32, 10.80, 11.76, 13.42, 16.04 , 19.82, 24.85, ...              
 31.10, 38.42, 46.50, 55.00, 63.50, 71.58, 78.90, 85.15, 90.18, ...
 93.96, 96.58, 98.25, 99.25,100.01,101.33,104.56,111.33,122.83, ...             
 139.09,158.94,180.83,203.55,226.50,249.50,272.50,295.50,318.50, ...             
 341.50,364.50,387.50,410.50,433.50,456.50];

dzr = [5.00, 5.00, 5.00, 5.00, 5.00, 5.00, 5.00, 5.00, ... 
 5.00, 5.00, 5.00, 5.00, 5.00, 5.00, 5.00, 5.00, ... 
 5.015, 5.05, 5.16, 5.40, 5.88, 6.71, 8.02 , 9.91, 10.0, ...              
 10.00, 10.00, 10.00, 10.00, 10.00, 10.00, 10.00, 10.00, ... 
 10.03, 10.11, 10.32, 10.80, 11.76, 13.42, 16.04 , 19.82, 24.85, ...              
 31.10, 38.42, 46.50, 55.00, 63.50, 71.58, 78.90, 85.15, 90.18, ...
 93.96, 96.58, 98.25, 99.25,100.01,101.33,104.56,111.33,122.83, ...             
 139.09,158.94,180.83,203.55,226.50,249.50,272.50,295.50,318.50, ...             
 330.0, 350,367.50,385.5,400.00,420.0];

Nzc = length(dzc);

pin='/okyanus/users/milicak/models/MITgcm_c65/Projects/Arctic_4km/input/obcs_2012/';
for fn={'OBNs_arctic_1680x1536.stable', ...
        'OBNt_arctic_1680x1536.stable', ...
        'OBNu_arctic_1680x1536.bin', ...
        'OBNv_arctic_1680x1536.balance', ...
        'OBWs_arctic_1680x1536.stable', ...
        'OBWt_arctic_1680x1536.stable', ...
        'OBWu_arctic_1680x1536.bin', ...
        'OBWv_arctic_1680x1536.bin', ...
        'OBEs_arctic_1680x1536.stable', ...
        'OBEt_arctic_1680x1536.stable', ...
        'OBEu_arctic_1680x1536.bin', ...
        'OBEv_arctic_1680x1536.bin'}

    fin=[pin fn{1}]; disp(fin)
    if fin(3)=='N', nd=Nx; else nd=Ny; end
    tmp = readbin(fin,[nd Nzc nt_new]);
    dnm = squeeze(tmp(:,:,end-12:end-1)); 


end
